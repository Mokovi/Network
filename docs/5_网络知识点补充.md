# ç½‘ç»œçŸ¥è¯†ç‚¹è¡¥å……

## 1. æ–‡æ¡£æ¦‚è¿°

æœ¬æ–‡æ¡£æ˜¯å¯¹ç½‘ç»œæ ¸å¿ƒçŸ¥è¯†çš„è¡¥å……ã€‚æ¯”è¾ƒé›¶æ•£ï¼Œç”¨æ¥è®°å½•ã€‚

## 2. TCPåè®®æ·±å…¥åˆ†æ

### 2.1 TCPçŠ¶æ€è½¬ç§»

TCPï¼ˆTransmission Control Protocolï¼‰æ˜¯ä¸€ç§é¢å‘è¿æ¥çš„ã€å¯é çš„ä¼ è¾“å±‚åè®®ã€‚TCPè¿æ¥çš„å»ºç«‹å’Œé‡Šæ”¾è¿‡ç¨‹æ¶‰åŠå¤šä¸ªçŠ¶æ€çš„è½¬æ¢ï¼Œç§°ä¸ºTCPçŠ¶æ€è½¬ç§»ã€‚

#### 2.1.1 TCPçŠ¶æ€æœº

TCPçŠ¶æ€æœºæè¿°äº†TCPè¿æ¥åœ¨ä¸åŒé˜¶æ®µçš„çŠ¶æ€å˜åŒ–ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      TCPçŠ¶æ€è½¬ç§»å›¾                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  CLOSED                                                        â”‚
â”‚    â”‚                                                           â”‚
â”‚    â–¼                                                           â”‚
â”‚  LISTEN (è¢«åŠ¨æ‰“å¼€)                                               â”‚
â”‚    â”‚                                                           â”‚
â”‚    â”œâ”€â”€ SYNæ”¶åˆ° â”€â”€â–º SYN_RCVD (åŒæ­¥æ”¶åˆ°)                           â”‚
â”‚    â”‚                                                           â”‚
â”‚    â””â”€â”€ è¢«åŠ¨æ‰“å¼€ â”€â”€â–º SYN_SENT (åŒæ­¥å·²å‘é€)                        â”‚
â”‚         â”‚                                                       â”‚
â”‚         â–¼                                                       â”‚
â”‚  ESTABLISHED (è¿æ¥å·²å»ºç«‹)                                       â”‚
â”‚    â”‚                                                           â”‚
â”‚    â”œâ”€â”€ FINæ”¶åˆ° â”€â”€â–º CLOSE_WAIT (å…³é—­ç­‰å¾…)                        â”‚
â”‚    â”‚                                                           â”‚
â”‚    â””â”€â”€ ä¸»åŠ¨å…³é—­ â”€â”€â–º FIN_WAIT_1 (ç»ˆæ­¢ç­‰å¾…1)                      â”‚
â”‚         â”‚                                                       â”‚
â”‚         â”œâ”€â”€ ACKæ”¶åˆ° â”€â”€â–º FIN_WAIT_2 (ç»ˆæ­¢ç­‰å¾…2)                   â”‚
â”‚         â”‚                                                       â”‚
â”‚         â””â”€â”€ FINæ”¶åˆ° â”€â”€â–º CLOSING (å…³é—­ä¸­)                        â”‚
â”‚             â”‚                                                   â”‚
â”‚             â””â”€â”€ ACKæ”¶åˆ° â”€â”€â–º TIME_WAIT (æ—¶é—´ç­‰å¾…)                 â”‚
â”‚                 â”‚                                               â”‚
â”‚                 â””â”€â”€ 2MSLè¶…æ—¶ â”€â”€â–º CLOSED                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.1.2 TCPè¿æ¥å»ºç«‹ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰

TCPè¿æ¥å»ºç«‹éœ€è¦ä¸‰æ¬¡æ¡æ‰‹æ¥ç¡®ä¿åŒæ–¹éƒ½å‡†å¤‡å¥½è¿›è¡Œæ•°æ®ä¼ è¾“ï¼š

**ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼š**
- å®¢æˆ·ç«¯å‘é€SYNåŒ…ï¼ˆåŒæ­¥åºåˆ—ç¼–å·ï¼‰åˆ°æœåŠ¡å™¨
- è¿›å…¥SYN_SENTçŠ¶æ€
- SYNåŒ…åŒ…å«ï¼šSYN=1, åˆå§‹åºåˆ—å·seq=x

**ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼š**
- æœåŠ¡å™¨æ”¶åˆ°SYNåŒ…åï¼Œå‘é€SYN+ACKåŒ…
- è¿›å…¥SYN_RCVDçŠ¶æ€
- SYN+ACKåŒ…åŒ…å«ï¼šSYN=1, ACK=1, ç¡®è®¤å·ack=x+1, åˆå§‹åºåˆ—å·seq=y

**ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼š**
- å®¢æˆ·ç«¯æ”¶åˆ°SYN+ACKåŒ…åï¼Œå‘é€ACKåŒ…
- è¿æ¥å»ºç«‹ï¼Œè¿›å…¥ESTABLISHEDçŠ¶æ€
- ACKåŒ…åŒ…å«ï¼šACK=1, ç¡®è®¤å·ack=y+1

```c
// TCPä¸‰æ¬¡æ¡æ‰‹åºåˆ—å›¾
Client                    Server
  |                         |
  |     SYN (seq=x)         |
  |------------------------>|
  |     SYN_SENT            |
  |                         |
  |   SYN+ACK (seq=y,ack=x+1)
  |<------------------------|
  |     SYN_RCVD            |
  |                         |
  |     ACK (ack=y+1)       |
  |------------------------>|
  |     ESTABLISHED         |
  |                         |
  |     ESTABLISHED         |
```

#### 2.1.3 TCPè¿æ¥é‡Šæ”¾ï¼ˆå››æ¬¡æŒ¥æ‰‹ï¼‰

TCPè¿æ¥é‡Šæ”¾éœ€è¦å››æ¬¡æŒ¥æ‰‹æ¥ç¡®ä¿åŒæ–¹éƒ½å®Œæˆäº†æ•°æ®ä¼ è¾“ï¼š

**ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼š**
- å®¢æˆ·ç«¯å‘é€FINåŒ…åˆ°æœåŠ¡å™¨
- è¿›å…¥FIN_WAIT_1çŠ¶æ€
- FINåŒ…åŒ…å«ï¼šFIN=1, åºåˆ—å·seq=u

**ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼š**
- æœåŠ¡å™¨æ”¶åˆ°FINåŒ…åï¼Œå‘é€ACKåŒ…
- è¿›å…¥CLOSE_WAITçŠ¶æ€
- ACKåŒ…åŒ…å«ï¼šACK=1, ç¡®è®¤å·ack=u+1

**ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼š**
- æœåŠ¡å™¨å‘é€FINåŒ…åˆ°å®¢æˆ·ç«¯
- è¿›å…¥LAST_ACKçŠ¶æ€
- FINåŒ…åŒ…å«ï¼šFIN=1, åºåˆ—å·seq=w

**ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼š**
- å®¢æˆ·ç«¯æ”¶åˆ°FINåŒ…åï¼Œå‘é€ACKåŒ…
- è¿›å…¥TIME_WAITçŠ¶æ€
- ç­‰å¾…2MSLï¼ˆMaximum Segment Lifetimeï¼‰åè¿›å…¥CLOSEDçŠ¶æ€
- ACKåŒ…åŒ…å«ï¼šACK=1, ç¡®è®¤å·ack=w+1

```c
// TCPå››æ¬¡æŒ¥æ‰‹åºåˆ—å›¾
Client                    Server
  |                         |
  |     FIN (seq=u)         |
  |------------------------>|
  |     FIN_WAIT_1          |
  |                         |
  |   ACK (ack=u+1)         |
  |<------------------------|
  |     CLOSE_WAIT          |
  |                         |
  |   FIN (seq=w)           |
  |<------------------------|
  |     LAST_ACK            |
  |                         |
  |     ACK (ack=w+1)       |
  |------------------------>|
  |     TIME_WAIT           |
  |                         |
  |       (2MSL)            |
  |     CLOSED              |
  |                         |
  |     CLOSED              |
```

#### 2.1.4 TIME_WAITçŠ¶æ€è¯¦è§£

TIME_WAITçŠ¶æ€æ˜¯TCPè¿æ¥é‡Šæ”¾è¿‡ç¨‹ä¸­çš„é‡è¦çŠ¶æ€ï¼Œå…·æœ‰ä»¥ä¸‹ä½œç”¨ï¼š

**ä½œç”¨ï¼š**
1. **å¯é åœ°ç»ˆæ­¢TCPè¿æ¥**ï¼šç¡®ä¿æœ€åçš„ACKèƒ½è¢«å¯¹æ–¹æ”¶åˆ°
2. **é˜²æ­¢æ—§è¿æ¥çš„æ•°æ®å¹²æ‰°æ–°è¿æ¥**ï¼šç­‰å¾…è¶³å¤Ÿæ—¶é—´è®©æ—§è¿æ¥çš„æ•°æ®åŒ…æ¶ˆå¤±
3. **å¤„ç†å»¶è¿Ÿåˆ°è¾¾çš„æŠ¥æ–‡æ®µ**ï¼šä¸¢å¼ƒå±äºæ—§è¿æ¥çš„å»¶è¿ŸæŠ¥æ–‡æ®µ

**æ—¶é—´é•¿åº¦ï¼š**
- TIME_WAITæŒç»­æ—¶é—´ä¸º2MSLï¼ˆMaximum Segment Lifetimeï¼‰
- MSLé€šå¸¸ä¸º2åˆ†é’Ÿï¼ŒTIME_WAITæ—¶é—´ä¸º4åˆ†é’Ÿ
- åœ¨é«˜å¹¶å‘æœåŠ¡å™¨ä¸­ï¼Œå¤§é‡çš„TIME_WAITçŠ¶æ€ä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æº

**ä¼˜åŒ–ç­–ç•¥ï¼š**
```c
// Linuxç³»ç»ŸTIME_WAITä¼˜åŒ–
echo 1 > /proc/sys/net/ipv4/tcp_tw_reuse      // å…è®¸é‡ç”¨TIME_WAITè¿æ¥
echo 1 > /proc/sys/net/ipv4/tcp_tw_recycle    // å¿«é€Ÿå›æ”¶TIME_WAITè¿æ¥
echo 30 > /proc/sys/net/ipv4/tcp_fin_timeout  // å‡å°‘FINè¶…æ—¶æ—¶é—´
```

### 2.2 TCPæ»‘åŠ¨çª—å£

æ»‘åŠ¨çª—å£ï¼ˆSliding Windowï¼‰æ˜¯TCPåè®®ç”¨äºæµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶çš„æ ¸å¿ƒæœºåˆ¶ï¼Œé€šè¿‡åŠ¨æ€è°ƒæ•´å‘é€çª—å£å¤§å°æ¥æ§åˆ¶æ•°æ®ä¼ è¾“é€Ÿç‡ã€‚

#### 2.2.1 æ»‘åŠ¨çª—å£åŸç†

**çª—å£æ¦‚å¿µï¼š**
- **å‘é€çª—å£**ï¼šå‘é€æ–¹å¯ä»¥å‘é€ä½†è¿˜æœªæ”¶åˆ°ACKçš„æ•°æ®é‡
- **æ¥æ”¶çª—å£**ï¼šæ¥æ”¶æ–¹è¿˜èƒ½æ¥æ”¶çš„æ•°æ®é‡
- **æ‹¥å¡çª—å£**ï¼šç½‘ç»œæ‹¥å¡æƒ…å†µä¸‹å…è®¸å‘é€çš„æ•°æ®é‡

**çª—å£å¤§å°å†³å®šå› ç´ ï¼š**
```
å®é™…å‘é€çª—å£ = min(æ¥æ”¶çª—å£, æ‹¥å¡çª—å£)
```

#### 2.2.2 å‘é€çª—å£ç»“æ„

å‘é€çª—å£ç”±ä¸‰ä¸ªæŒ‡é’ˆç®¡ç†ï¼š

```c
typedef struct {
    uint32_t send_base;      // å·²ç¡®è®¤çš„åºåˆ—å·
    uint32_t send_next;      // ä¸‹æ¬¡å‘é€çš„åºåˆ—å·
    uint32_t send_window;    // å‘é€çª—å£å¤§å°
} tcp_send_window_t;
```

**å‘é€çª—å£çŠ¶æ€ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          å‘é€ç¼“å†²åŒºçŠ¶æ€                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å·²å‘é€å¹¶ç¡®è®¤     â”‚   å·²å‘é€æœªç¡®è®¤   â”‚  å¾…å‘é€æ•°æ®   â”‚
â”‚  [1, send_base)   â”‚ [send_base,     â”‚ [send_next,   â”‚
â”‚                   â”‚  send_next)     â”‚  send_base +  â”‚
â”‚                   â”‚                 â”‚  send_window) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â–²                  â–²                 â–²
        â”‚                  â”‚                 â”‚
   send_base          send_next     send_base + send_window
```

#### 2.2.3 æ¥æ”¶çª—å£ç»“æ„

æ¥æ”¶çª—å£ç®¡ç†æ¥æ”¶ç¼“å†²åŒºï¼š

```c
typedef struct {
    uint32_t rcv_base;       // æœŸæœ›æ¥æ”¶çš„åºåˆ—å·
    uint32_t rcv_window;     // æ¥æ”¶çª—å£å¤§å°
    uint32_t rcv_next;       // ä¸‹æ¬¡æœŸæœ›æ¥æ”¶çš„åºåˆ—å·
} tcp_recv_window_t;
```

**æ¥æ”¶çª—å£çŠ¶æ€ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          æ¥æ”¶ç¼“å†²åŒºçŠ¶æ€                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   å·²æ¥æ”¶å¹¶ç¡®è®¤   â”‚   å¯æ¥æ”¶æ•°æ®     â”‚  ä¸å¯æ¥æ”¶æ•°æ®   â”‚
â”‚  [rcv_base -     â”‚ [rcv_base,      â”‚ [rcv_base +     â”‚
â”‚   window,        â”‚  rcv_base +     â”‚  rcv_window,    â”‚
â”‚   rcv_base)      â”‚  rcv_window)    â”‚  âˆ)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.2.4 æ»‘åŠ¨çª—å£ç¤ºä¾‹

**æ­£å¸¸æ•°æ®ä¼ è¾“ï¼š**
```c
// åˆå§‹çŠ¶æ€
send_base = 1000, send_next = 1000, send_window = 4000
rcv_base = 2000, rcv_window = 3000

// å‘é€æ•°æ®
å‘é€åºåˆ—å· 1000-1999çš„æ•°æ® (1000å­—èŠ‚)
send_next = 2000

// æ”¶åˆ°ACK (ack=1500)
send_base = 1500
å‘é€çª—å£æ»‘åŠ¨ï¼Œå¯ä»¥å‘é€æ›´å¤šæ•°æ®

// æ¥æ”¶æ•°æ®
æ”¶åˆ°åºåˆ—å· 2000-2499çš„æ•°æ® (500å­—èŠ‚)
å‘é€ACK (ack=2500)
rcv_base = 2500
```

**é›¶çª—å£å¤„ç†ï¼š**
```c
// æ¥æ”¶æ–¹ç¼“å†²åŒºæ»¡ï¼Œé€šå‘Šé›¶çª—å£
å‘é€ACK (ack=2500, window=0)

// å‘é€æ–¹æ”¶åˆ°é›¶çª—å£ï¼Œåœæ­¢å‘é€
// å¯åŠ¨é›¶çª—å£æ¢æµ‹å®šæ—¶å™¨
// å®šæœŸå‘é€1å­—èŠ‚æ¢æµ‹æŠ¥æ–‡

// æ¥æ”¶æ–¹ç¼“å†²åŒºæœ‰ç©ºé—´æ—¶
å‘é€ACK (ack=2500, window=1000)

// å‘é€æ–¹æ¢å¤å‘é€
```

### 2.3 TCPæµé‡æ§åˆ¶

æµé‡æ§åˆ¶ï¼ˆFlow Controlï¼‰æ˜¯TCPåè®®ç”¨äºé˜²æ­¢å‘é€æ–¹å‘é€æ•°æ®è¿‡å¿«ï¼Œè¶…å‡ºæ¥æ”¶æ–¹å¤„ç†èƒ½åŠ›çš„æœºåˆ¶ã€‚

#### 2.3.1 æµé‡æ§åˆ¶åŸç†

**æµé‡æ§åˆ¶ç›®æ ‡ï¼š**
- é˜²æ­¢å‘é€æ–¹å‘é€æ•°æ®è¿‡å¿«
- é¿å…æ¥æ”¶æ–¹ç¼“å†²åŒºæº¢å‡º
- ç¡®ä¿å¯é çš„æ•°æ®ä¼ è¾“

**æµé‡æ§åˆ¶æœºåˆ¶ï¼š**
1. **æ¥æ”¶çª—å£é€šå‘Š**ï¼šæ¥æ”¶æ–¹åœ¨ACKä¸­é€šå‘Šè‡ªå·±çš„æ¥æ”¶çª—å£å¤§å°
2. **å‘é€çª—å£è°ƒæ•´**ï¼šå‘é€æ–¹æ ¹æ®æ¥æ”¶çª—å£è°ƒæ•´å‘é€çª—å£
3. **é›¶çª—å£å¤„ç†**ï¼šå½“æ¥æ”¶çª—å£ä¸º0æ—¶ï¼Œå‘é€æ–¹åœæ­¢å‘é€å¹¶å¯åŠ¨æ¢æµ‹

#### 2.3.2 æ¥æ”¶çª—å£ç®¡ç†

æ¥æ”¶æ–¹æ ¹æ®ç¼“å†²åŒºä½¿ç”¨æƒ…å†µåŠ¨æ€è°ƒæ•´æ¥æ”¶çª—å£ï¼š

```c
// æ¥æ”¶çª—å£è®¡ç®—
uint32_t calculate_receive_window(tcp_socket_t* sock) {
    uint32_t available_space = sock->recv_buffer_size - sock->recv_buffer_used;
    return min(available_space, TCP_MAX_WINDOW);
}

// å‘é€ACKæ—¶é€šå‘Šçª—å£
void send_ack_with_window(tcp_socket_t* sock) {
    tcp_header_t header;
    header.ack_number = htonl(sock->rcv_base);
    header.window = htons(calculate_receive_window(sock));
    // å‘é€ACKæŠ¥æ–‡
}
```

#### 2.3.3 æµé‡æ§åˆ¶ç®—æ³•

**ç³Šæ¶‚çª—å£ç»¼åˆå¾ï¼ˆSilly Window Syndromeï¼‰é¿å…ï¼š**

**å‘é€æ–¹ç³Šæ¶‚çª—å£é¿å…ï¼š**
```c
// Nagleç®—æ³•
bool should_delay_send(tcp_socket_t* sock) {
    // å¦‚æœæœ‰æœªç¡®è®¤æ•°æ®ï¼Œä¸”è¦å‘é€çš„æ•°æ®å°äºMSS
    if (sock->unacked_data > 0 && sock->send_data_len < sock->mss) {
        return true;  // å»¶è¿Ÿå‘é€
    }
    return false;
}
```

**æ¥æ”¶æ–¹ç³Šæ¶‚çª—å£é¿å…ï¼š**
```c
// Clarkç®—æ³•
bool should_advertise_window(tcp_socket_t* sock) {
    uint32_t available_space = calculate_receive_window(sock);
    
    // åªæœ‰å½“çª—å£å¤§å° >= MSS/2 æˆ–ç¼“å†²åŒºåŠæ»¡æ—¶æ‰é€šå‘Š
    if (available_space >= sock->mss / 2 || 
        available_space >= sock->recv_buffer_size / 2) {
        return true;
    }
    return false;
}
```

### 2.4 TCPæ‹¥å¡æ§åˆ¶

æ‹¥å¡æ§åˆ¶ï¼ˆCongestion Controlï¼‰æ˜¯TCPåè®®ç”¨äºé˜²æ­¢ç½‘ç»œæ‹¥å¡çš„å…³é”®æœºåˆ¶ï¼Œé€šè¿‡åŠ¨æ€è°ƒæ•´å‘é€é€Ÿç‡æ¥é¿å…ç½‘ç»œè¿‡è½½ã€‚

#### 2.4.1 æ‹¥å¡æ§åˆ¶åŸç†

**æ‹¥å¡äº§ç”ŸåŸå› ï¼š**
- ç½‘ç»œå¸¦å®½æœ‰é™
- è·¯ç”±å™¨ç¼“å†²åŒºæœ‰é™
- å¤šæ¡TCPè¿æ¥ç«äº‰ç½‘ç»œèµ„æº

**æ‹¥å¡æ§åˆ¶ç›®æ ‡ï¼š**
- é¿å…ç½‘ç»œæ‹¥å¡
- å…¬å¹³åˆ†äº«ç½‘ç»œå¸¦å®½
- æé«˜ç½‘ç»œåˆ©ç”¨ç‡

#### 2.4.2 æ‹¥å¡æ§åˆ¶ç®—æ³•

TCPä½¿ç”¨å¤šç§ç®—æ³•ååŒå·¥ä½œï¼š

**1. æ…¢å¯åŠ¨ï¼ˆSlow Startï¼‰**

æ…¢å¯åŠ¨é˜¶æ®µä»¥æŒ‡æ•°æ–¹å¼å¢åŠ æ‹¥å¡çª—å£ï¼š

```c
// æ…¢å¯åŠ¨ç®—æ³•
void slow_start(tcp_socket_t* sock) {
    if (sock->cwnd < sock->ssthresh) {
        // æŒ‡æ•°å¢é•¿é˜¶æ®µ
        sock->cwnd += sock->mss;  // æ¯æ¬¡RTTç¿»å€
    } else {
        // è¿›å…¥æ‹¥å¡é¿å…é˜¶æ®µ
        congestion_avoidance(sock);
    }
}
```

**2. æ‹¥å¡é¿å…ï¼ˆCongestion Avoidanceï¼‰**

æ‹¥å¡é¿å…é˜¶æ®µä»¥çº¿æ€§æ–¹å¼å¢åŠ æ‹¥å¡çª—å£ï¼š

```c
// æ‹¥å¡é¿å…ç®—æ³•
void congestion_avoidance(tcp_socket_t* sock) {
    sock->cwnd += sock->mss * sock->mss / sock->cwnd;
}
```

**3. å¿«é€Ÿé‡ä¼ å’Œå¿«é€Ÿæ¢å¤ï¼ˆFast Retransmit & Fast Recoveryï¼‰**

æ£€æµ‹åˆ°é‡å¤ACKæ—¶æ‰§è¡Œå¿«é€Ÿé‡ä¼ ï¼š

```c
// é‡å¤ACKè®¡æ•°
void handle_duplicate_ack(tcp_socket_t* sock, uint32_t ack_number) {
    sock->dup_ack_count++;
    
    if (sock->dup_ack_count == 3) {
        // è§¦å‘å¿«é€Ÿé‡ä¼ 
        fast_retransmit(sock);
        // è¿›å…¥å¿«é€Ÿæ¢å¤
        fast_recovery(sock);
    }
}

// å¿«é€Ÿé‡ä¼ 
void fast_retransmit(tcp_socket_t* sock) {
    // é‡ä¼ ä¸¢å¤±çš„æŠ¥æ–‡æ®µ
    retransmit_packet(sock, sock->send_base);
}

// å¿«é€Ÿæ¢å¤
void fast_recovery(tcp_socket_t* sock) {
    // å°†ssthreshè®¾ç½®ä¸ºcwndçš„ä¸€åŠ
    sock->ssthresh = sock->cwnd / 2;
    // å°†cwndè®¾ç½®ä¸ºssthresh + 3*MSS
    sock->cwnd = sock->ssthresh + 3 * sock->mss;
}
```

#### 2.4.3 TCPæ‹¥å¡æ§åˆ¶çŠ¶æ€æœº

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                TCPæ‹¥å¡æ§åˆ¶çŠ¶æ€æœº                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ…¢å¯åŠ¨ (Slow Start)                                 â”‚
â”‚    â”‚                                                 â”‚
â”‚    â–¼                                                 â”‚
â”‚  æ‹¥å¡é¿å… (Congestion Avoidance)                     â”‚
â”‚    â”‚                                                 â”‚
â”‚    â”œâ”€â”€ è¶…æ—¶ â”€â”€â–º æ…¢å¯åŠ¨ (cwnd=1, ssthresh=cwnd/2)     â”‚
â”‚    â”‚                                                 â”‚
â”‚    â””â”€â”€ 3ä¸ªé‡å¤ACK â”€â”€â–º å¿«é€Ÿæ¢å¤ (Fast Recovery)       â”‚
â”‚         â”‚                                             â”‚
â”‚         â””â”€â”€ æ”¶åˆ°æ–°ACK â”€â”€â–º æ‹¥å¡é¿å…                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.4.4 ç°ä»£TCPå˜ä½“

**TCP Renoï¼š**
- æ ‡å‡†TCPå®ç°
- æ”¯æŒå¿«é€Ÿé‡ä¼ å’Œå¿«é€Ÿæ¢å¤

**TCP New Renoï¼š**
- æ”¹è¿›äº†å¿«é€Ÿæ¢å¤ç®—æ³•
- èƒ½ä»å¤šä¸ªä¸¢åŒ…ä¸­æ¢å¤

**TCP BBRï¼ˆBottleneck Bandwidth and Round-trip propagation timeï¼‰ï¼š**
- åŸºäºå¸¦å®½å’ŒRTTçš„æ‹¥å¡æ§åˆ¶
- Googleå¼€å‘çš„ç°ä»£TCPå˜ä½“
- æ˜¾è‘—æé«˜ç½‘ç»œåˆ©ç”¨ç‡

```c
// BBRæ‹¥å¡æ§åˆ¶åŸºæœ¬åŸç†
void bbr_update_model(tcp_socket_t* sock) {
    // æµ‹é‡å¸¦å®½
    uint32_t bandwidth = measure_bandwidth(sock);
    
    // æµ‹é‡RTT
    uint32_t min_rtt = measure_min_rtt(sock);
    
    // æ›´æ–°æ‹¥å¡çª—å£
    sock->cwnd = bandwidth * min_rtt / sock->mss;
}
```

## 3. P2Pç½‘ç»œæ¶æ„

P2Pï¼ˆPeer-to-Peerï¼‰ç½‘ç»œæ˜¯ä¸€ç§åˆ†å¸ƒå¼ç½‘ç»œæ¶æ„ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹æ—¢æ˜¯å®¢æˆ·ç«¯åˆæ˜¯æœåŠ¡å™¨ï¼Œå…·æœ‰å»ä¸­å¿ƒåŒ–çš„ç‰¹ç‚¹ã€‚

### 3.1 P2Pç½‘ç»œæ¦‚è¿°

#### 3.1.1 P2Pç½‘ç»œç‰¹ç‚¹

**æ ¸å¿ƒç‰¹ç‚¹ï¼š**
- **å»ä¸­å¿ƒåŒ–**ï¼šæ²¡æœ‰ä¸­å¤®æœåŠ¡å™¨ï¼Œæ‰€æœ‰èŠ‚ç‚¹å¹³ç­‰
- **è‡ªç»„ç»‡æ€§**ï¼šèŠ‚ç‚¹åŠ¨æ€åŠ å…¥å’Œç¦»å¼€ç½‘ç»œ
- **å¯æ‰©å±•æ€§**ï¼šç½‘ç»œè§„æ¨¡ä¸å—ä¸­å¤®æœåŠ¡å™¨é™åˆ¶
- **å®¹é”™æ€§**ï¼šå•ä¸ªèŠ‚ç‚¹æ•…éšœä¸å½±å“æ•´ä½“ç½‘ç»œ

**ä¼˜åŠ¿ï¼š**
- èµ„æºå…±äº«é«˜æ•ˆ
- å¸¦å®½åˆ©ç”¨ç‡é«˜
- æˆæœ¬ä½ï¼ˆæ— ä¸­å¿ƒæœåŠ¡å™¨ï¼‰
- æŠ—å®¡æŸ¥èƒ½åŠ›å¼º

**æŒ‘æˆ˜ï¼š**
- èŠ‚ç‚¹å¼‚æ„æ€§ï¼ˆæ€§èƒ½å·®å¼‚å¤§ï¼‰
- ç½‘ç»œåŠ¨æ€æ€§ï¼ˆèŠ‚ç‚¹é¢‘ç¹å˜åŠ¨ï¼‰
- å®‰å…¨æ€§é—®é¢˜
- ç‰ˆæƒå’Œæ³•å¾‹é—®é¢˜

#### 3.1.2 P2Pç½‘ç»œåˆ†ç±»

**æŒ‰æ¶æ„åˆ†ç±»ï¼š**

**çº¯P2Pç½‘ç»œï¼ˆPure P2Pï¼‰ï¼š**
- æ‰€æœ‰èŠ‚ç‚¹å®Œå…¨å¹³ç­‰
- æ²¡æœ‰ä¸­å¤®åè°ƒå™¨
- å…¸å‹ï¼šGnutellaã€Freenet

**æ··åˆP2Pç½‘ç»œï¼ˆHybrid P2Pï¼‰ï¼š**
- å­˜åœ¨å°‘é‡è¶…çº§èŠ‚ç‚¹
- è¶…çº§èŠ‚ç‚¹æä¾›ç´¢å¼•æœåŠ¡
- å…¸å‹ï¼šNapsterã€Kazaa

**ç»“æ„åŒ–P2Pç½‘ç»œï¼ˆStructured P2Pï¼‰ï¼š**
- ä½¿ç”¨DHTï¼ˆåˆ†å¸ƒå¼å“ˆå¸Œè¡¨ï¼‰
- æœ‰åºçš„ç½‘ç»œæ‹“æ‰‘
- å…¸å‹ï¼šChordã€CANã€Pastry

### 3.2 P2Pæ ¸å¿ƒæŠ€æœ¯

#### 3.2.1 åˆ†å¸ƒå¼å“ˆå¸Œè¡¨ï¼ˆDHTï¼‰

DHTæ˜¯ç»“æ„åŒ–P2Pç½‘ç»œçš„åŸºç¡€ï¼Œæä¾›é”®å€¼å­˜å‚¨å’ŒæŸ¥æ‰¾æœåŠ¡ï¼š

```c
// DHTæ¥å£å®šä¹‰
typedef struct {
    // å­˜å‚¨é”®å€¼å¯¹
    void (*put)(const char* key, const char* value);
    
    // æŸ¥æ‰¾å€¼
    char* (*get)(const char* key);
    
    // åˆ é™¤é”®å€¼å¯¹
    void (*remove)(const char* key);
} dht_interface_t;
```

**Chordç®—æ³•ç¤ºä¾‹ï¼š**

Chordä½¿ç”¨ä¸€è‡´æ€§å“ˆå¸Œå°†èŠ‚ç‚¹å’Œé”®æ˜ å°„åˆ°ç¯å½¢ç©ºé—´ï¼š

```c
// ChordèŠ‚ç‚¹ç»“æ„
typedef struct chord_node {
    uint32_t node_id;        // èŠ‚ç‚¹ID
    uint32_t successor;      // åç»§èŠ‚ç‚¹
    uint32_t predecessor;    // å‰é©±èŠ‚ç‚¹
    uint32_t finger[32];     // æŒ‡è¡¨
    dht_table_t* table;      // æœ¬åœ°å­˜å‚¨è¡¨
} chord_node_t;

// æŸ¥æ‰¾é”®çš„è´Ÿè´£èŠ‚ç‚¹
uint32_t chord_find_successor(chord_node_t* node, uint32_t key) {
    if (key > node->node_id && key <= node->successor) {
        return node->successor;
    }
    
    // åœ¨æŒ‡è¡¨ä¸­æŸ¥æ‰¾æœ€æ¥è¿‘keyçš„èŠ‚ç‚¹
    uint32_t closest = node->node_id;
    for (int i = 31; i >= 0; i--) {
        if (node->finger[i] > node->node_id && 
            node->finger[i] < key) {
            closest = node->finger[i];
        }
    }
    
    return closest;
}
```

#### 3.2.2 èŠ‚ç‚¹å‘ç°å’ŒåŠ å…¥

**Bootstrapæœºåˆ¶ï¼š**
```c
// èŠ‚ç‚¹åŠ å…¥ç½‘ç»œ
int p2p_join_network(peer_t* peer, const char* bootstrap_ip) {
    // 1. è¿æ¥bootstrapèŠ‚ç‚¹
    int sock = connect_to_peer(bootstrap_ip, P2P_PORT);
    if (sock < 0) return -1;
    
    // 2. å‘é€åŠ å…¥è¯·æ±‚
    join_request_t req;
    req.node_id = generate_node_id(peer);
    req.node_ip = get_local_ip();
    send_join_request(sock, &req);
    
    // 3. æ¥æ”¶ç½‘ç»œä¿¡æ¯
    network_info_t info;
    recv_network_info(sock, &info);
    
    // 4. æ›´æ–°æœ¬åœ°è·¯ç”±è¡¨
    update_routing_table(peer, &info);
    
    close(sock);
    return 0;
}
```

#### 3.2.3 å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰

P2På†…å®¹åˆ†å‘ç»“åˆäº†P2På’ŒCDNæŠ€æœ¯ï¼š

```c
// BitTorrentåè®®æ ¸å¿ƒ
typedef struct {
    char info_hash[20];      // æ–‡ä»¶ä¿¡æ¯å“ˆå¸Œ
    char peer_id[20];        // èŠ‚ç‚¹ID
    piece_info_t* pieces;    // æ–‡ä»¶åˆ†ç‰‡ä¿¡æ¯
    peer_list_t* peers;      // å¯¹ç­‰èŠ‚ç‚¹åˆ—è¡¨
    bitfield_t* bitfield;    // æ‹¥æœ‰åˆ†ç‰‡ä½å›¾
} torrent_t;

// åˆ†ç‰‡è¯·æ±‚å’Œäº¤æ¢
void request_piece(torrent_t* torrent, uint32_t piece_index) {
    // é€‰æ‹©æ‹¥æœ‰è¯¥åˆ†ç‰‡çš„èŠ‚ç‚¹
    peer_t* peer = select_peer_with_piece(torrent, piece_index);
    
    // å‘é€è¯·æ±‚
    piece_request_t req = {
        .index = piece_index,
        .begin = 0,
        .length = PIECE_SIZE
    };
    send_piece_request(peer->sock, &req);
}

// æ¥æ”¶åˆ†ç‰‡æ•°æ®
void handle_piece_data(torrent_t* torrent, piece_data_t* data) {
    // éªŒè¯åˆ†ç‰‡å“ˆå¸Œ
    if (verify_piece_hash(data)) {
        // ä¿å­˜åˆ†ç‰‡
        save_piece(torrent, data);
        
        // æ›´æ–°ä½å›¾
        set_bitfield_bit(torrent->bitfield, data->index);
        
        // å¹¿æ’­haveæ¶ˆæ¯
        broadcast_have_message(torrent, data->index);
    }
}
```

### 3.3 P2Pç½‘ç»œåè®®

#### 3.3.1 BitTorrentåè®®

BitTorrentæ˜¯æœ€æˆåŠŸçš„P2Pæ–‡ä»¶åˆ†å‘åè®®ï¼š

**æ ¸å¿ƒç»„ä»¶ï¼š**
- **.torrentæ–‡ä»¶**ï¼šåŒ…å«æ–‡ä»¶ä¿¡æ¯å’Œtrackeråœ°å€
- **Tracker**ï¼šæä¾›peeråˆ—è¡¨æœåŠ¡
- **Peer**ï¼šå‚ä¸æ–‡ä»¶ä¸‹è½½å’Œä¸Šä¼ çš„èŠ‚ç‚¹
- **Piece**ï¼šæ–‡ä»¶è¢«åˆ†å‰²æˆå›ºå®šå¤§å°çš„åˆ†ç‰‡

**å·¥ä½œæµç¨‹ï¼š**
```c
// BitTorrentä¸‹è½½æµç¨‹
void download_torrent(const char* torrent_file) {
    // 1. è§£ætorrentæ–‡ä»¶
    torrent_t* torrent = parse_torrent_file(torrent_file);
    
    // 2. è¿æ¥trackerè·å–peeråˆ—è¡¨
    peer_list_t* peers = get_peer_list_from_tracker(torrent);
    
    // 3. è¿æ¥peerså»ºç«‹è¿æ¥
    connect_to_peers(torrent, peers);
    
    // 4. å‚ä¸æ–‡ä»¶åˆ†ç‰‡äº¤æ¢
    while (!download_complete(torrent)) {
        // è¯·æ±‚ç¨€æœ‰åˆ†ç‰‡
        request_rarest_piece(torrent);
        
        // å¤„ç†peeræ¶ˆæ¯
        handle_peer_messages(torrent);
        
        // ä¼˜åŒ–è¿æ¥ï¼ˆé˜»å¡æ¶æ„èŠ‚ç‚¹ç­‰ï¼‰
        optimize_connections(torrent);
    }
    
    // 5. ç»§ç»­åšç§
    seed_forever(torrent);
}
```

#### 3.3.2 Kademliaåè®®

Kademliaæ˜¯åŸºäºXORè·ç¦»çš„DHTåè®®ï¼š

```c
// Kademliaè·ç¦»è®¡ç®—
uint32_t kademlia_distance(uint32_t id1, uint32_t id2) {
    return id1 ^ id2;  // XORè·ç¦»
}

// èŠ‚ç‚¹æŸ¥æ‰¾
void kademlia_find_node(kademlia_node_t* node, uint32_t target_id) {
    // 1. åœ¨æœ¬åœ°è·¯ç”±è¡¨ä¸­æŸ¥æ‰¾æœ€æ¥è¿‘çš„kä¸ªèŠ‚ç‚¹
    node_list_t* closest = find_closest_nodes(node, target_id, K);
    
    // 2. å¹¶è¡ŒæŸ¥è¯¢è¿™äº›èŠ‚ç‚¹
    for (int i = 0; i < closest->count; i++) {
        send_find_node_request(closest->nodes[i], target_id);
    }
    
    // 3. é€’å½’æŸ¥æ‰¾ç›´åˆ°æ‰¾åˆ°è¶³å¤Ÿæ¥è¿‘çš„èŠ‚ç‚¹
    while (!found_enough_close_nodes()) {
        // ç»§ç»­æŸ¥è¯¢æ›´æ¥è¿‘çš„èŠ‚ç‚¹
        continue_lookup(target_id);
    }
}
```

### 3.4 P2Pç½‘ç»œæŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ

#### 3.4.1 èŠ‚ç‚¹åŠ¨æ€æ€§é—®é¢˜

**Free-ridingé—®é¢˜ï¼š**
- ä¸€äº›èŠ‚ç‚¹åªä¸‹è½½ä¸ä¸Šä¼ 
- å½±å“ç½‘ç»œæ•´ä½“æ€§èƒ½

**è§£å†³æ–¹æ¡ˆï¼š**
```c
// åŸºäºè´¡çŒ®çš„æ¿€åŠ±æœºåˆ¶
void tit_for_tat(peer_t* peer) {
    // ä¼˜å…ˆæœåŠ¡ä¸Šä¼ ç»™è‡ªå·±çš„èŠ‚ç‚¹
    prioritize_peers_by_upload(peer);
    
    // å®šæœŸè°ƒæ•´è¿æ¥
    optimize_peer_connections(peer);
}
```

#### 3.4.2 å®‰å…¨æ€§é—®é¢˜

**æ”»å‡»ç±»å‹ï¼š**
- Sybilæ”»å‡»ï¼šä¼ªé€ å¤šä¸ªèº«ä»½
- Eclipseæ”»å‡»ï¼šéš”ç¦»ç›®æ ‡èŠ‚ç‚¹
- Pollutionæ”»å‡»ï¼šæ±¡æŸ“å…±äº«å†…å®¹

**é˜²å¾¡æœºåˆ¶ï¼š**
```c
// ä¿¡èª‰ç³»ç»Ÿ
typedef struct {
    uint32_t node_id;
    uint32_t reputation_score;
    time_t last_seen;
} peer_reputation_t;

// æ›´æ–°èŠ‚ç‚¹ä¿¡èª‰
void update_reputation(peer_reputation_t* rep, bool successful_exchange) {
    if (successful_exchange) {
        rep->reputation_score += 10;
    } else {
        rep->reputation_score -= 5;
    }
    
    rep->last_seen = time(NULL);
}
```

#### 3.4.3 ç‰ˆæƒä¿æŠ¤

**DRMï¼ˆæ•°å­—ç‰ˆæƒç®¡ç†ï¼‰ï¼š**
- å†…å®¹åŠ å¯†å’Œè®¿é—®æ§åˆ¶
- åœ¨P2Pç½‘ç»œä¸­çš„DRMæŒ‘æˆ˜

**æ³•å¾‹æ¡†æ¶ï¼š**
- DMCAï¼ˆæ•°å­—åƒå¹´ç‰ˆæƒæ³•ï¼‰
- P2Pç½‘ç»œçš„è´£ä»»é—®é¢˜

### 3.5 P2Påº”ç”¨åœºæ™¯

#### 3.5.1 æ–‡ä»¶å…±äº«

**BitTorrentï¼š**
- å¤§æ–‡ä»¶é«˜æ•ˆåˆ†å‘
- é€‚ç”¨äºè½¯ä»¶å‘å¸ƒã€è§†é¢‘åˆ†äº«

**eMuleï¼š**
- æ”¯æŒå¤šç§æ–‡ä»¶ç±»å‹
- å¼ºå¤§çš„æœç´¢åŠŸèƒ½

#### 3.5.2 æµåª’ä½“ä¼ è¾“

**P2Pç›´æ’­ï¼š**
- é™ä½æœåŠ¡å™¨è´Ÿè½½
- æé«˜è§‚çœ‹è´¨é‡

**VoIPåº”ç”¨ï¼š**
- Skypeæ—©æœŸç‰ˆæœ¬ä½¿ç”¨P2Pæ¶æ„
- å»ä¸­å¿ƒåŒ–çš„è¯­éŸ³é€šä¿¡

#### 3.5.3 åŒºå—é“¾ç½‘ç»œ

**Bitcoinç½‘ç»œï¼š**
- å®Œå…¨å»ä¸­å¿ƒåŒ–çš„äº¤æ˜“ç½‘ç»œ
- åŸºäºP2Pçš„å…±è¯†æœºåˆ¶

**Ethereumï¼š**
- æ™ºèƒ½åˆçº¦å¹³å°
- P2Pçš„DAppç”Ÿæ€ç³»ç»Ÿ

#### 3.5.4 ç‰©è”ç½‘ï¼ˆIoTï¼‰

**è¾¹ç¼˜è®¡ç®—ï¼š**
- è®¾å¤‡é—´ç›´æ¥é€šä¿¡
- å‡å°‘ä¸­å¿ƒæœåŠ¡å™¨ä¾èµ–

**åˆ†å¸ƒå¼å­˜å‚¨ï¼š**
- IPFSï¼ˆInterPlanetary File Systemï¼‰
- å»ä¸­å¿ƒåŒ–çš„æ–‡ä»¶å­˜å‚¨


---

> **ğŸ’¡ æç¤º**ï¼šTCPåè®®å’ŒP2Pç½‘ç»œæ˜¯ç°ä»£ç½‘ç»œåº”ç”¨çš„æ ¸å¿ƒæŠ€æœ¯ã€‚ç†è§£è¿™äº›æœºåˆ¶æœ‰åŠ©äºå¼€å‘å‡ºæ›´åŠ é«˜æ•ˆå’Œå¯é çš„ç½‘ç»œåº”ç”¨ç¨‹åºã€‚å»ºè®®ç»“åˆå®é™…é¡¹ç›®æ·±å…¥å­¦ä¹ è¿™äº›æ¦‚å¿µã€‚
